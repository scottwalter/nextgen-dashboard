import{u as b,x as h,y,r as n,c as x,k as L,o as m,e as f,f as e,t as l,p as V,w as _,q as g,i as S}from"./index-d0e904d7.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const B={class:"login-page"},q={class:"login-container"},A={class:"login-header"},D={class:"version"},M={class:"login-form-container"},U={class:"form-group"},C=["disabled"],I={class:"form-group"},N=["disabled"],E=["disabled"],F={key:0,class:"error"},P={__name:"LoginView",setup(R){const u=b(),d=h(),c=y(),o=n({username:"",password:""}),a=n(!1),r=n(""),v=n("2.0.0"),p=x(()=>o.value.username.trim()&&o.value.password.trim()),w=async()=>{if(!(!p.value||a.value)){r.value="",a.value=!0;try{const t=await d.login(o.value.username,o.value.password);t.success?u.push("/"):(r.value=t.error||"Login failed",o.value.password="")}catch{r.value="An unexpected error occurred",o.value.password=""}finally{a.value=!1}}};return L(()=>{var t;(t=c.config)!=null&&t.version&&(v.value=c.config.version),d.isAuthenticated&&u.push("/")}),(t,s)=>(m(),f("div",B,[e("div",q,[e("div",A,[s[2]||(s[2]=e("h1",null,"Bitaxe Dashboard",-1)),e("p",D,"Version: "+l(v.value),1)]),e("div",M,[e("form",{onSubmit:V(w,["prevent"]),class:"login-form"},[s[5]||(s[5]=e("h2",null,"Login",-1)),e("div",U,[s[3]||(s[3]=e("label",{class:"form-label",for:"username"},"Username",-1)),_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>o.value.username=i),type:"text",id:"username",class:"form-input",required:"",autofocus:"",disabled:a.value},null,8,C),[[g,o.value.username]])]),e("div",I,[s[4]||(s[4]=e("label",{class:"form-label",for:"password"},"Password",-1)),_(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>o.value.password=i),type:"password",id:"password",class:"form-input",required:"",disabled:a.value},null,8,N),[[g,o.value.password]])]),e("button",{type:"submit",class:"btn btn-primary login-btn",disabled:a.value||!p.value},l(a.value?"Logging in...":"Login"),9,E),r.value?(m(),f("div",F,l(r.value),1)):S("",!0)],32)])])]))}},z=k(P,[["__scopeId","data-v-62526aec"]]);export{z as default};
